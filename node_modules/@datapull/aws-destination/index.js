class AwsDestination {
  constructor(config) {
    this.config = config;

    const runnerParts = this.config.runner.split('.');
    this.config.service = runnerParts[1];
    this.config.method = runnerParts[2];
  }
  buildPipelines(pipelines) {
    pipelines.forEach(p => {
      p.destination = {
        name: ['AWS', this.config.service, this.config.method].join(':'),
        runner: this.runStep.bind(this, p.config)
      };
    });

    return pipelines;
  }
  runStep(config) {
    console.log('pushing to aws');
  }
}

exports.datapullStep = {
  isDestination: true,
  constructor: AwsDestination
};
